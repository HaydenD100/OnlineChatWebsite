<!--Main Html page this page has the text window the message box and button too send message-->>


<!DOCTYPE html>

<html lang ="en">

<head>
    <title>
        Server Test
    </title>
</head>
<style>
    table, th, td {
        border: 1px solid black;
        border-collapse: collapse;
      }
      #overflowTest {
        background: #4CAF50;
        color: white;
        padding: 15px;
        width: 50%;
        height: 100px;
        overflow: scroll;
        border: 1px solid #ccc;
      }
   
</style>





<body onload="LoadMessages()" style = "background-color:rgb(255, 255, 255);" >
    <h1 style="color:rgb(0, 0, 0);text-align:center;font-family:verdana;font-size:150%;"><b>Chatting</b></h1>
    <p style="color:rgb(0, 0, 0);text-align:center;">Chatting server v1.0</p>
    <hr>
    <div style="text-align:center;">
    <button type="button" style="margin-left:auto;margin-right:auto;" onclick="LoadMessages()"> Refresh Messages </button>
    </div>

    <div onload = "LoadMessages()" style="width:400px; height:400px; margin-left:auto;margin-right:auto; background-color:rgb(216, 216, 216); vertical-align:top; Overflow-y:scroll; word-wrap: break-word; overflow-x : hidden;" id="chatbox"></div>
  

    <form>
      <h5>Name:</h5>
      <input type="text" id="nameBox">
      <h5>Message:</h5>
        <input type="text" id="messageBox">
    </form>
    <button type="button" style="margin-left:auto;margin-right:auto;" onclick="SendMessage()"> Send Message </button>
    
    <script>


          function SendMessage() {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
              if (this.readyState == 4 && this.status == 200) {
               document.getElementById("chatbox").innerHTML = this.responseText;
              }
            };
            
            
            xhttp.open("GET", "/send" + document.getElementById('messageBox').value + "name:" + document.getElementById('nameBox').value, true);
            xhttp.send();
            
          }
          function LoadMessages(){
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
              if (this.readyState == 4 && this.status == 200) {
               document.getElementById("chatbox").innerHTML = this.responseText;
              }
            };
            xhttp.open("GET", "/load", true);
            xhttp.send();
          }
          
         


    </script>


</body>

</html>